# For more advanced config options, please check these URLs.
# @see https://docs.treasuredata.com/articles/data-connector-amazon-s3
# @see https://github.com/embulk/embulk-input-s3
---
in:
  type: s3
  endpoint: s3-ap-northeast-1.amazonaws.com
  access_key_id: AKIAJ6D44F2AVIVIKMDQ
  secret_access_key: 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
  bucket: td-workflow-test
  path_prefix: felma
  parser:
    charset: Shift_JIS
    newline: CRLF
    type: csv
    trim_if_not_quoted: false
    skip_header_lines: 1
    allow_extra_columns: false
    allow_optional_columns: false
    columns:
    - {name: partner_id, type: long}
    - {name: site_id, type: long}
    - {name: site_name, type: string}
    - {name: site_url, type: string}
    - {name: impression, type: long}
    - {name: click, type: long}
    - {name: ctr, type: double}
    - {name: concurrence_count, type: long}
    - {name: concurrence_fee, type: long}
    - {name: cvr, type: double}
    - {name: approve_count, type: long}
    - {name: approve_fee, type: long}
    - {name: unsettled_count, type: long}
    - {name: unsettled_fee, type: long}
    - {name: posted_fixed_costs, type: long}
    - {name: reward, type: long}
    - {name: created, type: timestamp, format: "%Y-%m-%d %H:%M:%S"}
out:
  mode: append